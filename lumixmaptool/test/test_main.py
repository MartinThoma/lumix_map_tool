#!/usr/bin/env python

import unittest
import sys
sys.path.insert(0, '..')
import lumixmaptool

class Test(unittest.TestCase):
    def test_parse_mapdata(self):
        result = lumixmaptool.parse_mapdata("MapList.dat")
        expected = {'num1': '00010001',
                    'num2': '00010001',
                    'regions': {
                        1: ['BACK/B0000035.DFT', 'BACK/B0000036.DFT', 'BACK/B0000044.DFT', 'BACK/B0000045.DFT', 'BACK/B0000053.DFT', 'BACK/B0000054.DFT', 'NAME/N0000035.DFT', 'NAME/N0000036.DFT', 'NAME/N0000044.DFT', 'NAME/N0000045.DFT', 'NAME/N0000053.DFT', 'NAME/N0000054.DFT', 'POI/P0000035.DFT', 'POI/P0000036.DFT', 'POI/P0000044.DFT', 'POI/P0000045.DFT', 'POI/P0000053.DFT', 'POI/P0000054.DFT'],
                        2: ['BACK/B0000024.DFT', 'BACK/B0000025.DFT', 'BACK/B0000026.DFT', 'BACK/B0000027.DFT', 'BACK/B0000033.DFT', 'BACK/B0000034.DFT', 'BACK/B0000035.DFT', 'BACK/B0000036.DFT', 'BACK/B0000042.DFT', 'BACK/B0000043.DFT', 'BACK/B0000044.DFT', 'BACK/B0000045.DFT', 'NAME/N0000024.DFT', 'NAME/N0000025.DFT', 'NAME/N0000026.DFT', 'NAME/N0000027.DFT', 'NAME/N0000033.DFT', 'NAME/N0000034.DFT', 'NAME/N0000035.DFT', 'NAME/N0000036.DFT', 'NAME/N0000042.DFT', 'NAME/N0000043.DFT', 'NAME/N0000044.DFT', 'NAME/N0000045.DFT', 'POI/P0000024.DFT', 'POI/P0000025.DFT', 'POI/P0000026.DFT', 'POI/P0000027.DFT', 'POI/P0000033.DFT', 'POI/P0000034.DFT', 'POI/P0000035.DFT', 'POI/P0000036.DFT', 'POI/P0000042.DFT', 'POI/P0000043.DFT', 'POI/P0000044.DFT', 'POI/P0000045.DFT'], 
                        3: ['BACK/B0000001.DFT', 'BACK/B0000008.DFT', 'BACK/B0000009.DFT', 'BACK/B0000010.DFT', 'BACK/B0000017.DFT', 'BACK/B0000018.DFT', 'BACK/B0000019.DFT', 'BACK/B0000026.DFT', 'BACK/B0000027.DFT', 'NAME/N0000001.DFT', 'NAME/N0000008.DFT', 'NAME/N0000009.DFT', 'NAME/N0000010.DFT', 'NAME/N0000017.DFT', 'NAME/N0000018.DFT', 'NAME/N0000019.DFT', 'NAME/N0000026.DFT', 'NAME/N0000027.DFT', 'POI/P0000017.DFT', 'POI/P0000018.DFT', 'POI/P0000019.DFT', 'POI/P0000026.DFT', 'POI/P0000027.DFT'],
                        4: ['BACK/B0000019.DFT', 'BACK/B0000020.DFT', 'BACK/B0000021.DFT', 'BACK/B0000022.DFT', 'BACK/B0000027.DFT', 'BACK/B0000028.DFT', 'BACK/B0000029.DFT', 'BACK/B0000030.DFT', 'BACK/B0000031.DFT', 'BACK/B0000036.DFT', 'BACK/B0000037.DFT', 'BACK/B0000038.DFT', 'BACK/B0000039.DFT', 'BACK/B0000040.DFT', 'BACK/B0000045.DFT', 'BACK/B0000046.DFT', 'BACK/B0000047.DFT', 'BACK/B0000048.DFT', 'BACK/B0000049.DFT', 'BACK/B0000054.DFT', 'NAME/N0000019.DFT', 'NAME/N0000020.DFT', 'NAME/N0000021.DFT', 'NAME/N0000022.DFT', 'NAME/N0000027.DFT', 'NAME/N0000028.DFT', 'NAME/N0000029.DFT', 'NAME/N0000030.DFT', 'NAME/N0000031.DFT', 'NAME/N0000036.DFT', 'NAME/N0000037.DFT', 'NAME/N0000038.DFT', 'NAME/N0000039.DFT', 'NAME/N0000040.DFT', 'NAME/N0000045.DFT', 'NAME/N0000046.DFT', 'NAME/N0000047.DFT', 'NAME/N0000048.DFT', 'NAME/N0000049.DFT', 'NAME/N0000054.DFT', 'POI/P0000019.DFT', 'POI/P0000020.DFT', 'POI/P0000021.DFT', 'POI/P0000022.DFT', 'POI/P0000027.DFT', 'POI/P0000028.DFT', 'POI/P0000029.DFT', 'POI/P0000030.DFT', 'POI/P0000031.DFT', 'POI/P0000036.DFT', 'POI/P0000037.DFT', 'POI/P0000038.DFT', 'POI/P0000039.DFT', 'POI/P0000040.DFT', 'POI/P0000045.DFT', 'POI/P0000046.DFT', 'POI/P0000047.DFT', 'POI/P0000048.DFT', 'POI/P0000049.DFT', 'POI/P0000054.DFT'],
                        5: ['BACK/B0000002.DFT', 'BACK/B0000003.DFT', 'BACK/B0000004.DFT', 'BACK/B0000011.DFT', 'BACK/B0000012.DFT', 'BACK/B0000013.DFT', 'BACK/B0000020.DFT', 'BACK/B0000021.DFT', 'BACK/B0000022.DFT', 'BACK/B0000029.DFT', 'BACK/B0000030.DFT', 'BACK/B0000031.DFT', 'NAME/N0000002.DFT', 'NAME/N0000003.DFT', 'NAME/N0000004.DFT', 'NAME/N0000011.DFT', 'NAME/N0000012.DFT', 'NAME/N0000013.DFT', 'NAME/N0000020.DFT', 'NAME/N0000021.DFT', 'NAME/N0000022.DFT', 'NAME/N0000029.DFT', 'NAME/N0000030.DFT', 'NAME/N0000031.DFT', 'POI/P0000003.DFT', 'POI/P0000011.DFT', 'POI/P0000012.DFT', 'POI/P0000013.DFT', 'POI/P0000020.DFT', 'POI/P0000021.DFT', 'POI/P0000022.DFT', 'POI/P0000029.DFT', 'POI/P0000030.DFT', 'POI/P0000031.DFT'],
                        6: ['BACK/B0000040.DFT', 'BACK/B0000041.DFT', 'BACK/B0000042.DFT', 'BACK/B0000049.DFT', 'BACK/B0000050.DFT', 'BACK/B0000051.DFT', 'NAME/N0000040.DFT', 'NAME/N0000041.DFT', 'NAME/N0000042.DFT', 'NAME/N0000049.DFT', 'NAME/N0000050.DFT', 'NAME/N0000051.DFT', 'POI/P0000040.DFT', 'POI/P0000041.DFT', 'POI/P0000042.DFT', 'POI/P0000049.DFT', 'POI/P0000050.DFT', 'POI/P0000051.DFT'], 
                        7: ['BACK/B0000032.DFT', 'BACK/B0000033.DFT', 'BACK/B0000034.DFT', 'BACK/B0000041.DFT', 'BACK/B0000042.DFT', 'BACK/B0000043.DFT', 'BACK/B0000050.DFT', 'BACK/B0000051.DFT', 'BACK/B0000052.DFT', 'NAME/N0000032.DFT', 'NAME/N0000033.DFT', 'NAME/N0000034.DFT', 'NAME/N0000041.DFT', 'NAME/N0000042.DFT', 'NAME/N0000043.DFT', 'NAME/N0000050.DFT', 'NAME/N0000051.DFT', 'NAME/N0000052.DFT', 'POI/P0000032.DFT', 'POI/P0000033.DFT', 'POI/P0000034.DFT', 'POI/P0000041.DFT', 'POI/P0000042.DFT', 'POI/P0000043.DFT', 'POI/P0000050.DFT', 'POI/P0000051.DFT', 'POI/P0000052.DFT'],
                        8: ['BACK/B0000031.DFT', 'BACK/B0000032.DFT', 'BACK/B0000033.DFT', 'BACK/B0000040.DFT', 'BACK/B0000041.DFT', 'BACK/B0000042.DFT', 'BACK/B0000049.DFT', 'BACK/B0000050.DFT', 'BACK/B0000051.DFT', 'NAME/N0000031.DFT', 'NAME/N0000032.DFT', 'NAME/N0000033.DFT', 'NAME/N0000040.DFT', 'NAME/N0000041.DFT', 'NAME/N0000042.DFT', 'NAME/N0000049.DFT', 'NAME/N0000050.DFT', 'NAME/N0000051.DFT', 'POI/P0000031.DFT', 'POI/P0000032.DFT', 'POI/P0000033.DFT', 'POI/P0000040.DFT', 'POI/P0000041.DFT', 'POI/P0000042.DFT', 'POI/P0000049.DFT', 'POI/P0000050.DFT', 'POI/P0000051.DFT'],
                        9: ['BACK/B0000005.DFT', 'BACK/B0000006.DFT', 'BACK/B0000007.DFT', 'BACK/B0000014.DFT', 'BACK/B0000015.DFT', 'BACK/B0000016.DFT', 'BACK/B0000023.DFT', 'BACK/B0000024.DFT', 'BACK/B0000025.DFT', 'BACK/B0000032.DFT', 'BACK/B0000033.DFT', 'BACK/B0000034.DFT', 'BACK/B0000041.DFT', 'BACK/B0000042.DFT', 'BACK/B0000043.DFT', 'NAME/N0000005.DFT', 'NAME/N0000006.DFT', 'NAME/N0000007.DFT', 'NAME/N0000014.DFT', 'NAME/N0000015.DFT', 'NAME/N0000016.DFT', 'NAME/N0000023.DFT', 'NAME/N0000024.DFT', 'NAME/N0000025.DFT', 'NAME/N0000032.DFT', 'NAME/N0000033.DFT', 'NAME/N0000034.DFT', 'NAME/N0000041.DFT', 'NAME/N0000042.DFT', 'NAME/N0000043.DFT', 'POI/P0000014.DFT', 'POI/P0000015.DFT', 'POI/P0000023.DFT', 'POI/P0000024.DFT', 'POI/P0000025.DFT', 'POI/P0000032.DFT', 'POI/P0000033.DFT', 'POI/P0000034.DFT', 'POI/P0000041.DFT', 'POI/P0000042.DFT', 'POI/P0000043.DFT'],
                        10: ['BACK/B0000037.DFT', 'BACK/B0000041.DFT', 'BACK/B0000042.DFT', 'BACK/B0000043.DFT', 'BACK/B0000044.DFT', 'BACK/B0000045.DFT', 'BACK/B0000046.DFT', 'BACK/B0000050.DFT', 'BACK/B0000051.DFT', 'BACK/B0000052.DFT', 'BACK/B0000053.DFT', 'BACK/B0000054.DFT', 'NAME/N0000037.DFT', 'NAME/N0000041.DFT', 'NAME/N0000042.DFT', 'NAME/N0000043.DFT', 'NAME/N0000044.DFT', 'NAME/N0000045.DFT', 'NAME/N0000046.DFT', 'NAME/N0000050.DFT', 'NAME/N0000051.DFT', 'NAME/N0000052.DFT', 'NAME/N0000053.DFT', 'NAME/N0000054.DFT', 'POI/P0000037.DFT', 'POI/P0000041.DFT', 'POI/P0000042.DFT', 'POI/P0000043.DFT', 'POI/P0000044.DFT', 'POI/P0000045.DFT', 'POI/P0000046.DFT', 'POI/P0000050.DFT', 'POI/P0000051.DFT', 'POI/P0000052.DFT', 'POI/P0000053.DFT', 'POI/P0000054.DFT']}}
        self.failUnlessEqual(result, expected)

if __name__ == "__main__":
    unittest.main()
